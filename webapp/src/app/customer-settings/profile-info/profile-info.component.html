<meta name="viewport" content="width=device-width, initial-scale=1.0">
<div class="tab-pane" id="profile">
    <div class="tab-pane active" [formGroup]="form" id="profile">
                <h3 class="text-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round"
                            class="feather feather-user mr-2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    Profile Information
                </h3>
            <!-- <div style="margin-top: 0px; margin-bottom: 20px;">               
                    <div class="row" style="margin: 10px 10px 10px 0px;">     
                        <mat-card-title>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="feather feather-user mr-2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                <circle cx="12" cy="7" r="4"></circle>
                            </svg>Profile Information
                        </mat-card-title>
                    </div> 
                    <hr>
                </div>  -->
                <hr style="margin: 5px">
                
                <!-- <div *ngIf="dataLoad; else show" style="display:flex; justify-content:center; width: 100%; height: 400px;">
                    <app-spinner-container></app-spinner-container>
                </div>

                <ng-template #show> -->
                    <div class="profilecontainer">
                        <div class="row custom-wrapper">
                            <div class="col-md-12">
                                <!-- <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">             -->
                                        <!-- Upload image -->
                                        <div class="avatar-upload">
                                            <div class="avatar-edit">
                                                <input formControlName="img" data-max-size="2048" type='file' id="imageUpload" accept=".png, .jpg, .jpeg" #fileInput (change)="uploadFile($event)"
                                                [ngClass]="{'is-invalid': f.img.dirty}">
                                                <!-- <app-form-error-container class="invalid-feedback"
                                                            [control]="form.get('img')">
                                                </app-form-error-container> -->
                                            </div>
                                            <div class="avatar-preview">
                                                <div id="imagePreview" [style.backgroundImage]="'url('+ imageUrl +')'">
                                                </div>
                                                <a (click)="fileInput.click()">
                                                    <i class="fas fa-pencil-alt" style="color: white; display: flex; line-height: 1;">
                                                    </i>
                                                </a>
                                            </div>
                                        </div>
                                    <!-- Submit Button 
                                    <button type="submit" class="btn btn-danger btn-lg btn-block" (click)="fileInput.click()">Upload Image</button>
                                    -->
                                <!-- </form> -->
                            </div>
                        </div>
                    </div>                    
                    <div class="row">
                        <div class="col-sm-6">
                            <mat-form-field class="example-field-width">
                                <mat-label for="fullName">First Name<span class="required">*</span></mat-label>
                                <input #firstName matInput type="text" id="fullName" placeholder="" formControlName="fn"
                                    [ngClass]="{'is-invalid': f.fn.dirty && f.fn.invalid }">
                                <app-form-error-container class="invalid-feedback" [control]="form.get('fn')">
                                    <app-form-error type="required">
                                        First name is required
                                    </app-form-error>
                                    <app-form-error type="maxlength">
                                        Maximum 50 characters allowed
                                    </app-form-error>
                                    <app-form-error type="pattern">
                                        Special characters not allowed.
                                    </app-form-error>
                                    <app-form-error type="checkspaceAtStartEnd">
                                        Space not allowed at start.
                                    </app-form-error>
                                </app-form-error-container>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field class="example-field-width">
                            <mat-label for="nickName">Last Name<span class="required">*</span></mat-label>
                            <input matInput type="text" id="nickName" placeholder="" formControlName="ln"
                                    [ngClass]="{ 'is-invalid': f.ln.dirty && f.ln.invalid }">
                                <app-form-error-container class="invalid-feedback"
                                                            [control]="form.get('ln')">
                                    <app-form-error type="pattern">
                                        Special characters not allowed.
                                    </app-form-error>
                                    <app-form-error type="maxlength">
                                        Maximum 50 characters allowed
                                    </app-form-error>
                                    <app-form-error type="checkspaceAtStartEnd">
                                        Space not allowed at start.
                                    </app-form-error>
                                </app-form-error-container>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-6">
                            <mat-form-field class="example-field-width">
                                <mat-label for="gender">Gender<span class="required">*</span></mat-label>
                                    <mat-select formControlName="gdr" id="gender">
                                        <!-- <mat-option value="" disabled selected>Select</mat-option> -->
                                        <mat-option value="M">Male</mat-option>
                                        <mat-option value="F">Female</mat-option>  
                                        <mat-option value="O">Other</mat-option>  
                                    </mat-select> 
                            </mat-form-field>
                        </div>
                        <div class="col-sm-6">
                            <mat-form-field appearance="fill" class="example-field-width">
                                <mat-label for="dob">Date of Birth</mat-label>
                                    <input matInput type="text" formControlName="dob" [max]="maxDate" [min]="minDate" [matDatepicker]="picker" id="date" placeholder="dd/mm/yyyy"
                                    [ngClass]="{ 'is-invalid': f.dob.dirty && f.dob.invalid }">
                                    
                                    <app-form-error-container class="invalid-feedback"
                                                            [control]="form.get('dob')">
                                        <app-form-error type="checkForFutureDates">
                                            Age should be more than 10 years
                                        </app-form-error>
                                        <app-form-error type="checkForPastDates">
                                            Age should not be more than 100 years
                                        </app-form-error>
                                        <app-form-error type="checkForInvalidYear">
                                            Year can't be more than 4 digits.
                                        </app-form-error>
                                    </app-form-error-container>
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>                                                                
                        </div>
                    </div>
                    <div style="display: flex;align-items: baseline; float:right;">
                        <button type="reset" class="btn btn-cancel" 
                        (click)="cancel()" style="margin-right: 0.3rem;">Cancel</button>
                        <button type="button" class="btn btn-primary align-elements" 
                        [disabled]="!form.dirty || form.invalid" (click)="updateProfile()">
                        Update Profile<span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span></button>
                    </div>
                <!-- </ng-template> -->
    </div>
</div>